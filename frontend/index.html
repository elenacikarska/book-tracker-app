<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Book Tracker Frontend</title>
<!--  <script>-->
<!--    const API_BASE = "http://localhost:5000";-->
<!--    async function loadBooks() {-->
<!--      const response = await fetch("/api/books")-->
<!--      const books = await response.json();-->
<!--      const list = document.getElementById("books");-->
<!--      books.forEach(book => {-->
<!--        const li = document.createElement("li");-->
<!--        li.textContent = `${book.title} by ${book.author}`;-->
<!--        list.appendChild(li);-->
<!--      });-->
<!--    }-->

<!--    window.onload = loadBooks;-->
<!--  </script>-->
  <script>
  const API_BASE = "http://localhost:5000";      // âžœ Ð±ÐµÐºÐµÐ½Ð´ Ð¿Ð¾Ñ€Ñ‚

  async function loadBooks() {
    const res   = await fetch(`${API_BASE}/api/books`);
    if (!res.ok) {                       // Ð´Ð¾Ð´Ð°Ð´Ð¸ ÐµÐ»ÐµÐ³Ð°Ð½Ñ‚Ð½Ð¾ handleâ€‘Ð¸Ñ€Ð°ÑšÐµ
      throw new Error(await res.text());
    }
    const books = await res.json();
    const list  = document.getElementById("books");
    list.innerHTML = "";                 // Ð¸ÑÑ‡Ð¸ÑÑ‚Ð¸ Ð¿Ñ€ÐµÐ´ Ð½Ð¾Ð²Ð¾ Ð¿Ð¾Ð»Ð½ÐµÑšÐµ
    books.forEach(b => {
      const li = document.createElement("li");
      li.textContent = `${b.title} â€” ${b.author}`;
      list.appendChild(li);
    });
  }

  window.onload = loadBooks;
</script>
</head>
<body>
  <h1>ðŸ“š Book Tracker</h1>
  <ul id="books"></ul>
</body>
</html>
